using System;
 
class Program
{
	static void Main()
	{
    	Console.Write("Введите строку с буквой 'h' (буква 'h' должна встречаться как минимум два раза): ");
    	string input = Console.ReadLine();
 
    	string result = ReverseSubstringBetweenH(input);
 	
    	Console.WriteLine($"Результат: {result}");
	}
 
	static string ReverseSubstringBetweenH(string input)
	{
    	int firstHIndex = input.IndexOf('h');
    	int lastHIndex = input.LastIndexOf('h');
 
    	if (firstHIndex != -1 && lastHIndex != -1 && firstHIndex != lastHIndex)
    	{
        	// Выделяем подстроку между первым и последним вхождением 'h'
        	string substringToReverse = input.Substring(firstHIndex + 1, lastHIndex - firstHIndex - 1);
 
        	// Переворачиваем подстроку
        	char[] reversedChars = substringToReverse.ToCharArray();
        	Array.Reverse(reversedChars);
        	string reversedSubstring = new string(reversedChars);
 
        	// Заменяем исходную подстроку на перевернутую в исходной строке
        	input = input.Substring(0, firstHIndex + 1) + reversedSubstring + input.Substring(lastHIndex);
    	}
 
    	return input;
	}
}


Данный код на языке C# выполняет задачу, при которой пользователь вводит строку, содержащую букву 'h' по крайней мере два раза. Задача программы - перевернуть подстроку, находящуюся между первой и последней 'h' во введенной строке.

Вот пошаговый разбор кода:

Метод Main:
Пользователя просят ввести строку, которая должна содержать букву 'h' как минимум два раза.
Введенная строка сохраняется в переменной input.
Вызывается метод ReverseSubstringBetweenH, аргументом которого является введенная пользователем строка input.
Результат работы метода присваивается переменной result.
В консоль выводится результат - измененная строка с возможно перевернутой подстрокой между символами 'h'.
Метод ReverseSubstringBetweenH:
Метод принимает строку input и возвращает строку с перевернутой подстрокой между первым и последним вхождениями символа 'h'.
Сначала метод определяет индексы первого (firstHIndex) и последнего (lastHIndex) вхождения символа 'h' с помощью методов IndexOf и LastIndexOf.
Если буква 'h' присутствует в строке (индекс не равен -1) и индексы первого и последнего вхождения не совпадают (что значит, что 'h' есть как минимум два раза), то выполняются следующие действия:
Извлекается подстрока начиная с символа после первого 'h' и до символа перед последним 'h' с помощью Substring.
Эта подстрока превращается в массив символов (ToCharArray), который затем переворачивается функцией Array.Reverse.
Полученный перевернутый массив символов конвертируется обратно в строку.
Исходная строка input модифицируется таким образом, что подстрока между первой и последней 'h' заменяется на перевернутую версию. Замена осуществляется с помощью конкатенации трех фрагментов: начала исходной строки до первого вхождения 'h', перевернутой подстроки, и конца строки после последнего вхождения 'h'.
Возвращается измененная строка.
Этот код успешно реализует задачу переворачивания подстроки, ограниченной первым и последним вхождением буквы 'h' в исходной строке, введенной пользователем.